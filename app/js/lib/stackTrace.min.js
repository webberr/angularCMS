Function.prototype.trace=function(){for(var trace=[],current=this;current;)trace.push(current.signature()),current=current.caller;return trace},Function.prototype.signature=function(){var signature={name:this.getName(),params:[],toString:function(){var params=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+params+")"}};if(this.arguments)for(var x=0;this.arguments.length>x;x++)signature.params.push(this.arguments[x]);return signature},Function.prototype.getName=function(){if(this.name)return this.name;var definition=(""+this).split("\n")[0],exp=/^function ([^\s(]+).+/;return exp.test(definition)?definition.split("\n")[0].replace(exp,"$1")||"anonymous":"anonymous"};